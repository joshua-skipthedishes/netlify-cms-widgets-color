{"version":3,"file":"color.min.js","sources":["../../src/Control.js","../../src/index.js"],"sourcesContent":["import React from 'react';\r\nimport createReactClass from 'create-react-class';\r\nimport PropTypes from 'prop-types';\r\nimport ImmutablePropTypes from 'react-immutable-proptypes';\r\nimport { SketchPicker } from '@pake/react-color';\r\n\r\nconst DEFAULT_FORMAT = 'hex';\r\nconst DEFAULT_COLOR = '#ffffff';\r\n\r\nexport default createReactClass({\r\n  propTypes: {\r\n    onChange: PropTypes.func.isRequired,\r\n    forID: PropTypes.string.isRequired,\r\n    value: PropTypes.node,\r\n    setActiveStyle: PropTypes.func.isRequired,\r\n    setInactiveStyle: PropTypes.func.isRequired,\r\n    classNameWrapper: PropTypes.string.isRequired,\r\n    field: ImmutablePropTypes.mapContains({\r\n      format: PropTypes.oneOf(['hex', 'rgb', 'hsl']),\r\n      default: PropTypes.string,\r\n      presets: ImmutablePropTypes.list,\r\n      alpha: PropTypes.bool,\r\n    }).isRequired,\r\n  },\r\n\r\n  getDefaultProps() {\r\n    return {\r\n      value: '',\r\n    };\r\n  },\r\n\r\n  getInitialState() {\r\n    return {\r\n      displayColorPicker: false,\r\n    };\r\n  },\r\n\r\n  handleChangeComplete(color) {\r\n    const { field, onChange } = this.props;\r\n    const alpha = !field.get('alpha', true);\r\n    const format = field.get('format') || DEFAULT_FORMAT;\r\n    let selected = color[format];\r\n    if (typeof selected !== 'string') {\r\n      const type = `${format}${alpha ? 'a' : ''}`;\r\n      const value = Object.values(selected).join(', ');\r\n\r\n      selected = `${type}(${value})`;\r\n    }\r\n    onChange(selected);\r\n  },\r\n\r\n  handleClick() {\r\n    const { displayColorPicker } = this.state;\r\n    this.setState({ displayColorPicker: !displayColorPicker });\r\n  },\r\n\r\n  handleClose() {\r\n    this.setState({ displayColorPicker: false });\r\n  },\r\n\r\n  render() {\r\n    const {\r\n      forID,\r\n      field,\r\n      value,\r\n      classNameWrapper,\r\n      setActiveStyle,\r\n      setInactiveStyle,\r\n    } = this.props;\r\n\r\n    const props = {\r\n      presetColors: undefined,\r\n      color: value || field.get('default') || DEFAULT_COLOR,\r\n      disableAlpha: !field.get('alpha', true),\r\n    };\r\n\r\n    if (field.has('presets')) {\r\n      props.presetColors = field.get('presets').toArray();\r\n    }\r\n\r\n    const { displayColorPicker } = this.state;\r\n    const styles = {\r\n      color: {\r\n        width: '30px',\r\n        height: '30px',\r\n        borderRadius: '50%',\r\n        background: props.color,\r\n        float: 'left',\r\n        marginRight: '10px',\r\n      },\r\n      swatch: {\r\n        minWidth: '120px',\r\n        padding: '8px',\r\n        background: '#ffffff',\r\n        display: 'inline-block',\r\n        cursor: 'pointer',\r\n        borderRadius: '25px',\r\n        textAlign: 'left',\r\n      },\r\n      hex: {\r\n        verticalAlign: 'middle',\r\n        lineHeight: '30px',\r\n      },\r\n      popover: {\r\n        position: 'absolute',\r\n        zIndex: '2',\r\n      },\r\n      cover: {\r\n        position: 'fixed',\r\n        top: '0px',\r\n        right: '0px',\r\n        bottom: '0px',\r\n        left: '0px',\r\n      },\r\n    };\r\n\r\n    return (\r\n      <div\r\n        id={forID}\r\n        className={classNameWrapper}\r\n        onFocus={setActiveStyle}\r\n        onBlur={setInactiveStyle}\r\n      >\r\n        <button style={styles.swatch} onClick={this.handleClick} type=\"button\">\r\n          <div style={styles.color} />\r\n          <span style={styles.hex}>\r\n            {props.color}\r\n          </span>\r\n        </button>\r\n        {displayColorPicker\r\n          ? (\r\n            <div style={styles.popover}>\r\n              <div tabIndex={0} role=\"button\" style={styles.cover} onClick={this.handleClose} onKeyPress={this.handleClose} />\r\n              <SketchPicker\r\n                onChangeComplete={this.handleChangeComplete}\r\n                {...props}\r\n              />\r\n            </div>\r\n          ) : null}\r\n      </div>\r\n    );\r\n  },\r\n});\r\n","import Control from './Control';\r\n\r\nexport default {\r\n  Control,\r\n};\r\n"],"names":["DEFAULT_FORMAT","DEFAULT_COLOR","createReactClass","propTypes","onChange","PropTypes","func","isRequired","forID","string","value","node","setActiveStyle","setInactiveStyle","classNameWrapper","field","ImmutablePropTypes","mapContains","format","oneOf","presets","list","alpha","bool","getDefaultProps","getInitialState","displayColorPicker","handleChangeComplete","color","this","props","get","selected","type","Object","values","join","handleClick","state","setState","handleClose","render","presetColors","undefined","disableAlpha","has","toArray","styles","width","height","borderRadius","background","marginRight","swatch","minWidth","padding","display","cursor","textAlign","hex","verticalAlign","lineHeight","popover","position","zIndex","cover","top","right","bottom","left","React","id","className","onFocus","onBlur","style","onClick","tabIndex","role","onKeyPress","SketchPicker","onChangeComplete","Control"],"mappings":"4kBAMA,IAAMA,eAAiB,MACjBC,cAAgB,kBAEPC,iBAAiB,uBAC9BC,UAAW,CACTC,SAAUC,UAAUC,KAAKC,WACzBC,MAAOH,UAAUI,OAAOF,WACxBG,MAAOL,UAAUM,KACjBC,eAAgBP,UAAUC,KAAKC,WAC/BM,iBAAkBR,UAAUC,KAAKC,WACjCO,iBAAkBT,UAAUI,OAAOF,WACnCQ,MAAOC,mBAAmBC,YAAY,CACpCC,OAAQb,UAAUc,MAAM,CAAC,MAAO,MAAO,gBAC9Bd,UAAUI,OACnBW,QAASJ,mBAAmBK,KAC5BC,MAAOjB,UAAUkB,OAChBhB,YAGLiB,iCACS,CACLd,MAAO,KAIXe,iCACS,CACLC,oBAAoB,IAIxBC,8BAAqBC,SACSC,KAAKC,MAAzBf,IAAAA,MAAOX,IAAAA,SACTkB,GAASP,EAAMgB,IAAI,SAAS,GAC5Bb,EAASH,EAAMgB,IAAI,WAAa/B,eAClCgC,EAAWJ,EAAMV,MACG,iBAAbc,EAAuB,KAC1BC,YAAUf,UAASI,EAAQ,IAAM,IACjCZ,EAAQwB,OAAOC,OAAOH,GAAUI,KAAK,MAE3CJ,YAAcC,cAAQvB,OAExBN,EAAS4B,IAGXK,2BACUX,EAAuBG,KAAKS,MAA5BZ,wBACHa,SAAS,CAAEb,oBAAqBA,KAGvCc,4BACOD,SAAS,CAAEb,oBAAoB,KAGtCe,wBAQMZ,KAAKC,MANPtB,IAAAA,MACAO,IAAAA,MACAL,IAAAA,MACAI,IAAAA,iBACAF,IAAAA,eACAC,IAAAA,iBAGIiB,EAAQ,CACZY,kBAAcC,EACdf,MAAOlB,GAASK,EAAMgB,IAAI,YAAc9B,cACxC2C,cAAe7B,EAAMgB,IAAI,SAAS,IAGhChB,EAAM8B,IAAI,aACZf,EAAMY,aAAe3B,EAAMgB,IAAI,WAAWe,eAGpCpB,EAAuBG,KAAKS,MAA5BZ,mBACFqB,EAAS,CACbnB,MAAO,CACLoB,MAAO,OACPC,OAAQ,OACRC,aAAc,MACdC,WAAYrB,EAAMF,YACX,OACPwB,YAAa,QAEfC,OAAQ,CACNC,SAAU,QACVC,QAAS,MACTJ,WAAY,UACZK,QAAS,eACTC,OAAQ,UACRP,aAAc,OACdQ,UAAW,QAEbC,IAAK,CACHC,cAAe,SACfC,WAAY,QAEdC,QAAS,CACPC,SAAU,WACVC,OAAQ,KAEVC,MAAO,CACLF,SAAU,QACVG,IAAK,MACLC,MAAO,MACPC,OAAQ,MACRC,KAAM,eAKRC,2BACEC,GAAI/D,EACJgE,UAAW1D,EACX2D,QAAS7D,EACT8D,OAAQ7D,GAERyD,8BAAQK,MAAO5B,EAAOM,OAAQuB,QAAS/C,KAAKQ,YAAaJ,KAAK,UAC5DqC,2BAAKK,MAAO5B,EAAOnB,QACnB0C,4BAAMK,MAAO5B,EAAOY,KACjB7B,EAAMF,QAGVF,EAEG4C,2BAAKK,MAAO5B,EAAOe,SACjBQ,2BAAKO,SAAU,EAAGC,KAAK,SAASH,MAAO5B,EAAOkB,MAAOW,QAAS/C,KAAKW,YAAauC,WAAYlD,KAAKW,cACjG8B,oBAACU,kCACCC,iBAAkBpD,KAAKF,sBACnBG,KAGN,eCxIC,CACboD,QAAAA"}