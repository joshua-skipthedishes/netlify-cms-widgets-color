{"version":3,"file":"color.min.js","sources":["../../src/index.js","../../src/Control.js"],"sourcesContent":["import Control from './Control';\r\n\r\nexport default {\r\n  Control,\r\n};\r\n","import React from 'react';\r\nimport createReactClass from 'create-react-class';\r\nimport PropTypes from 'prop-types';\r\nimport ImmutablePropTypes from 'react-immutable-proptypes';\r\nimport { SketchPicker } from '@pake/react-color';\r\n\r\nconst DEFAULT_FORMAT = 'hex';\r\nconst DEFAULT_COLOR = '#ffffff';\r\n\r\nexport default createReactClass({\r\n  propTypes: {\r\n    onChange: PropTypes.func.isRequired,\r\n    forID: PropTypes.string.isRequired,\r\n    value: PropTypes.node,\r\n    setActiveStyle: PropTypes.func.isRequired,\r\n    setInactiveStyle: PropTypes.func.isRequired,\r\n    classNameWrapper: PropTypes.string.isRequired,\r\n    field: ImmutablePropTypes.mapContains({\r\n      format: PropTypes.oneOf(['hex', 'rgb', 'hsl']),\r\n      default: PropTypes.string,\r\n      presets: ImmutablePropTypes.list,\r\n      alpha: PropTypes.bool,\r\n    }).isRequired,\r\n  },\r\n\r\n  getDefaultProps() {\r\n    return {\r\n      value: '',\r\n    };\r\n  },\r\n\r\n  getInitialState() {\r\n    return {\r\n      displayColorPicker: false,\r\n    };\r\n  },\r\n\r\n  handleChangeComplete(color) {\r\n    const { field, onChange } = this.props;\r\n    const alpha = !field.get('alpha', true);\r\n    const format = field.get('format') || DEFAULT_FORMAT;\r\n    let selected = color[format];\r\n    if (typeof selected !== 'string') {\r\n      const type = `${format}${alpha ? 'a' : ''}`;\r\n      const value = Object.values(selected).join(', ');\r\n\r\n      selected = `${type}(${value})`;\r\n    }\r\n    onChange(selected);\r\n  },\r\n\r\n  handleClick() {\r\n    const { displayColorPicker } = this.state;\r\n    this.setState({ displayColorPicker: !displayColorPicker });\r\n  },\r\n\r\n  handleClose() {\r\n    this.setState({ displayColorPicker: false });\r\n  },\r\n\r\n  render() {\r\n    const {\r\n      forID,\r\n      field,\r\n      value,\r\n      classNameWrapper,\r\n      setActiveStyle,\r\n      setInactiveStyle,\r\n    } = this.props;\r\n\r\n    const props = {\r\n      presetColors: undefined,\r\n      color: value || field.get('default') || DEFAULT_COLOR,\r\n      disableAlpha: !field.get('alpha', true),\r\n    };\r\n\r\n    if (field.has('presets')) {\r\n      props.presetColors = field.get('presets').toArray();\r\n    }\r\n\r\n    const { displayColorPicker } = this.state;\r\n    const styles = {\r\n      color: {\r\n        width: '30px',\r\n        height: '30px',\r\n        borderRadius: '50%',\r\n        background: props.color,\r\n        float: 'left',\r\n        marginRight: '10px',\r\n      },\r\n      swatch: {\r\n        minWidth: '120px',\r\n        padding: '8px',\r\n        background: '#ffffff',\r\n        display: 'inline-block',\r\n        cursor: 'pointer',\r\n        borderRadius: '25px',\r\n        textAlign: 'left',\r\n      },\r\n      hex: {\r\n        verticalAlign: 'middle',\r\n        lineHeight: '30px',\r\n      },\r\n      popover: {\r\n        position: 'absolute',\r\n        zIndex: '2',\r\n      },\r\n      cover: {\r\n        position: 'fixed',\r\n        top: '0px',\r\n        right: '0px',\r\n        bottom: '0px',\r\n        left: '0px',\r\n      },\r\n    };\r\n\r\n    return (\r\n      <div\r\n        id={forID}\r\n        className={classNameWrapper}\r\n        onFocus={setActiveStyle}\r\n        onBlur={setInactiveStyle}\r\n      >\r\n        <button style={styles.swatch} onClick={this.handleClick} type=\"button\">\r\n          <div style={styles.color} />\r\n          <span style={styles.hex}>\r\n            {props.color}\r\n          </span>\r\n        </button>\r\n        {displayColorPicker\r\n          ? (\r\n            <div style={styles.popover}>\r\n              <div tabIndex={0} role=\"button\" style={styles.cover} onClick={this.handleClose} onKeyPress={this.handleClose} />\r\n              <SketchPicker\r\n                onChangeComplete={this.handleChangeComplete}\r\n                {...props}\r\n              />\r\n            </div>\r\n          ) : null}\r\n      </div>\r\n    );\r\n  },\r\n});\r\n"],"names":["Control","createReactClass","getDefaultProps","value","getInitialState","displayColorPicker","handleChangeComplete","color","this","props","field","onChange","alpha","get","format","selected","type","Object","values","join","handleClick","state","setState","handleClose","render","forID","classNameWrapper","setActiveStyle","setInactiveStyle","presetColors","undefined","disableAlpha","has","toArray","styles","width","height","borderRadius","background","marginRight","swatch","minWidth","padding","display","cursor","textAlign","hex","verticalAlign","lineHeight","popover","position","zIndex","cover","top","right","bottom","left","h","id","className","onFocus","onBlur","style","onClick","tabIndex","role","onKeyPress","SketchPicker","onChangeComplete"],"mappings":"sWAEe,CACbA,QCMaC,EAAiB,uBAgB9BC,iCACS,CACLC,MAAO,KAIXC,iCACS,CACLC,oBAAoB,IAIxBC,8BAAqBC,SACSC,KAAKC,MAAzBC,IAAAA,MAAOC,IAAAA,SACTC,GAASF,EAAMG,IAAI,SAAS,GAC5BC,EAASJ,EAAMG,IAAI,WAlCN,MAmCfE,EAAWR,EAAMO,MACG,iBAAbC,EAAuB,KAC1BC,YAAUF,UAASF,EAAQ,IAAM,IACjCT,EAAQc,OAAOC,OAAOH,GAAUI,KAAK,MAE3CJ,YAAcC,cAAQb,OAExBQ,EAASI,IAGXK,2BACUf,EAAuBG,KAAKa,MAA5BhB,wBACHiB,SAAS,CAAEjB,oBAAqBA,KAGvCkB,4BACOD,SAAS,CAAEjB,oBAAoB,KAGtCmB,wBAQMhB,KAAKC,MANPgB,IAAAA,MACAf,IAAAA,MACAP,IAAAA,MACAuB,IAAAA,iBACAC,IAAAA,eACAC,IAAAA,iBAGInB,EAAQ,CACZoB,kBAAcC,EACdvB,MAAOJ,GAASO,EAAMG,IAAI,YAjEV,UAkEhBkB,cAAerB,EAAMG,IAAI,SAAS,IAGhCH,EAAMsB,IAAI,aACZvB,EAAMoB,aAAenB,EAAMG,IAAI,WAAWoB,eAGpC5B,EAAuBG,KAAKa,MAA5BhB,mBACF6B,EAAS,CACb3B,MAAO,CACL4B,MAAO,OACPC,OAAQ,OACRC,aAAc,MACdC,WAAY7B,EAAMF,YACX,OACPgC,YAAa,QAEfC,OAAQ,CACNC,SAAU,QACVC,QAAS,MACTJ,WAAY,UACZK,QAAS,eACTC,OAAQ,UACRP,aAAc,OACdQ,UAAW,QAEbC,IAAK,CACHC,cAAe,SACfC,WAAY,QAEdC,QAAS,CACPC,SAAU,WACVC,OAAQ,KAEVC,MAAO,CACLF,SAAU,QACVG,IAAK,MACLC,MAAO,MACPC,OAAQ,MACRC,KAAM,eAKRC,SACEC,GAAIjC,EACJkC,UAAWjC,EACXkC,QAASjC,EACTkC,OAAQjC,GAER6B,YAAQK,MAAO5B,EAAOM,OAAQuB,QAASvD,KAAKY,YAAaJ,KAAK,UAC5DyC,SAAKK,MAAO5B,EAAO3B,QACnBkD,UAAMK,MAAO5B,EAAOY,KACjBrC,EAAMF,QAGVF,EAEGoD,SAAKK,MAAO5B,EAAOe,SACjBQ,SAAKO,SAAU,EAAGC,KAAK,SAASH,MAAO5B,EAAOkB,MAAOW,QAASvD,KAAKe,YAAa2C,WAAY1D,KAAKe,cACjGkC,EAACU,kBACCC,iBAAkB5D,KAAKF,sBACnBG,KAGN"}